<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather-Website</title>
    <link href="style.css" rel="stylesheet" />
   <script src="js/themetoggle.js" defer></script>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.13.1/font/bootstrap-icons.min.css"
    />
  </head>
  <body>
    <!--prmocode-->
    <div class="d-flex justify-content-center">
      <p class="text-centre fw-bold fs-4 my-2">Weather-Website</p>

    </div>
    <!--header-->
    <div class="d-flex align-items-center justify-content-between px-3  header" style="background-color: #f1f1f1; height: 58px;">
  
  <!-- Location Box -->
  <div class="d-flex align-items-center" style="width: 23%;">
    <i class="bi bi-geo-alt-fill me-2" style="font-size: 20px"></i>
    <span id="user-location" class="fw-bold" style="font-size: 18px;">Detecting...</span>
  </div>

  <!-- Search Bar -->
  <div class="position-relative d-flex align-items-center justify-content-center" style="width: 43%;">
    <i class="bi bi-search position-absolute" style="left: 20px; color: gray;"></i>
    <input
      type="search"
      class="form-control w-100 rounded-pill"
      placeholder="Search..."
      style="padding-left: 45px; background-color: #d8d8d9;"
    />
  </div>

  <!-- Navbar Items -->
  <div class="d-flex align-items-center justify-content-end" style="width: 34%;">
    <ul class="nav gap-3 m-0">
      <li class="nav-item">
        <a class="nav-link fw-semibold nav_item_hover rounded-pill text-dark" href="#">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link fw-semibold nav_item_hover rounded-pill text-dark" href="#">About us</a>
      </li>
      <li class="nav-item">
        <a class="nav-link fw-semibold nav_item_hover rounded-pill text-dark" href="#">Contact us</a>
      </li>
      <li class="nav-item">
        <a class="nav-link fw-semibold nav_item_hover rounded-pill text-dark" id="dark-toggle">
          <i class="bi bi-moon-stars-fill" id="theme-icon" ></i>
        </a>
      </li>
    </ul>
  </div>
</div>

    <section class="my-5 container text-center"></section>

    <!--fotter section -->
    <div
      class=" footer d-flex flex-column justify-content-center align-items-center w-100"
      style="
        position: fixed;
        bottom: 0;
        background-color: #f1f1f1;
        padding: 10px;
        font-size: 20px;
      "
    >
      <div class="fw-semibold">Follow Us On</div>
      <div class="d-flex gap-3">
        <a href="https://www.instagram.com" style="color: black"
          ><i class="bi bi-instagram"></i
        ></a>
        <a href="https://www.facebook.com" style="color: black"
          ><i class="bi bi-facebook"></i
        ></a>
        <a href="https://www.twitter.com" style="color: black"
          ><i class="bi bi-twitter-x"></i
        ></a>
      </div>
      <div class="fw-semibold">
        Â© All rights reserved. Developed by Sagar Bhor.
      </div>
    </div>
    
    <script>
    // pages load 
    window.onload = function () {
  const locationSpan = document.getElementById("user-location");

  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      async (position) => {
        const { latitude, longitude } = position.coords;

        const apiKey = '1334bce6ebd440ceb6a9a0ba180eaced';
        const apiUrl = `https://api.opencagedata.com/geocode/v1/json?q=${latitude}+${longitude}&key=${apiKey}`;

        try {
          const response = await fetch(apiUrl);
          const data = await response.json();

          const city =
            data.results[0].components.city ||
            data.results[0].components.town ||
            data.results[0].components.village ||
            data.results[0].components.state ||
            "Unknown";

          locationSpan.innerText = city;
        } catch (error) {
          console.error("Error fetching city:", error);
          locationSpan.innerText = "Unable to fetch city";
        }
      },
      (error) => {
        console.error("Geolocation Error:", error);
        locationSpan.innerText = "Permission Denied";
      }
    );
  } else {
    locationSpan.innerText = "Geolocation not supported";
  }
};
</script>
  </body>
</html>

